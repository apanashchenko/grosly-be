# üçΩÔ∏è Spysko - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–ø–∏—Å–∫—ñ–≤ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑ —Ä–µ—Ü–µ–ø—Ç—ñ–≤

–î–æ–¥–∞—Ç–æ–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Å–ø–∏—Å–∫—ñ–≤ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É (OpenAI GPT).

## üéØ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑–∞ –Ω–∞–∑–≤–æ—é —Å—Ç—Ä–∞–≤–∏ (–æ—Å–Ω–æ–≤–Ω–∏–π)
- ‚úÖ –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ –Ω–∞—è–≤–Ω–∏—Ö —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤ (–∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è)
- ‚úÖ Strict mode ‚Äî —Ç—ñ–ª—å–∫–∏ –∑ –Ω–∞—è–≤–Ω–∏—Ö —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ —ñ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤
- ‚úÖ Shopping List CRUD API
- ‚úÖ Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏ —Ç–∞ –º—É–ª—å—Ç–∏–º–æ–≤–Ω–æ—Å—Ç—ñ
- üîÑ –ü–ª–∞–Ω—É—î—Ç—å—Å—è: –ø–∞—Ä—Å–∏–Ω–≥ –∑ URL, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ –ë–î, —É–ø–æ–¥–æ–±–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
pnpm install
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`:

```bash
cp .env.example .env
```

–û—Ç—Ä–∏–º–∞–π—Ç–µ OpenAI API –∫–ª—é—á:
1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://platform.openai.com/api-keys
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π API –∫–ª—é—á
3. –î–æ–¥–∞–π—Ç–µ –π–æ–≥–æ –≤ `.env`:

```env
OPENAI_API_KEY=sk-your-api-key-here
PORT=3000
```

### 3. –ó–∞–ø—É—Å–∫

```bash
# Development mode
pnpm start:dev

# Production mode
pnpm build
pnpm start:prod
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `http://localhost:3000`

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (Swagger)

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞, —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:
- **Swagger UI:** http://localhost:3000/api

–£ Swagger UI –≤–∏ –º–æ–∂–µ—Ç–µ:
- üìñ –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ endpoints
- üß™ –¢–µ—Å—Ç—É–≤–∞—Ç–∏ API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- üìã –ü–æ–±–∞—á–∏—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- üì• –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ OpenAPI specification

## üì° API Endpoints

### POST `/recipes/generate` üåü (–û—Å–Ω–æ–≤–Ω–∏–π)

**–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ—Ü–µ–ø—Ç—É –∑ –≤—ñ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∑–∞–ø–∏—Ç—É**

AI –ø–∞—Ä—Å–∏—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ª—é–¥–µ–π, –¥–Ω—ñ–≤, –¥—ñ—î—Ç–∏—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –≥–µ–Ω–µ—Ä—É—î —Ä–µ—Ü–µ–ø—Ç–∏ –∑ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∞–º–∏.

**Request:**
```json
{
  "query": "–±–æ—Ä—â –Ω–∞ 4 –ª—é–¥–∏–Ω–∏",
  "language": "uk"
}
```

**Response:**
```json
{
  "parsedRequest": {
    "numberOfPeople": 4,
    "numberOfDays": 1,
    "dietaryRestrictions": [],
    "mealType": null
  },
  "recipes": [
    {
      "dishName": "–ö–ª–∞—Å–∏—á–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –±–æ—Ä—â",
      "description": "–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–π —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –±–æ—Ä—â –∑ –±—É—Ä—è–∫–æ–º, –∫–∞–ø—É—Å—Ç–æ—é —Ç–∞ –º'—è—Å–æ–º",
      "ingredients": [
        { "name": "—è–ª–æ–≤–∏—á–∏–Ω–∞", "quantity": 500, "unit": { "canonical": "g", "localized": "–≥—Ä–∞–º" } },
        { "name": "–±—É—Ä—è–∫", "quantity": 2, "unit": { "canonical": "pcs", "localized": "—à—Ç—É–∫" } }
      ],
      "cookingTime": 90
    }
  ]
}
```

**–¢–µ—Å—Ç:**
```bash
curl -X POST http://localhost:3000/recipes/generate \
  -H "Content-Type: application/json" \
  -d '{"query": "–±–æ—Ä—â –Ω–∞ 4 –ª—é–¥–∏–Ω–∏", "language": "uk"}'
```

---

### POST `/recipes/suggest` üéØ (–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤)

**–ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ –Ω–∞—è–≤–Ω–∏—Ö —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤** –∑ –ø–æ–∫—Ä–æ–∫–æ–≤–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è.

**Request:**
```json
{
  "ingredients": ["–∫–∞—Ä—Ç–æ–ø–ª—è", "—è–π—Ü—è", "—Ü–∏–±—É–ª—è", "–º–æ—Ä–∫–≤–∞", "–æ–ª—ñ—è"],
  "language": "uk",
  "strictMode": false
}
```

> `strictMode: true` ‚Äî —Ç—ñ–ª—å–∫–∏ –∑ –Ω–∞—è–≤–Ω–∏—Ö (+ –±–∞–∑–æ–≤—ñ: —Å—ñ–ª—å, –ø–µ—Ä–µ—Ü—å, –≤–æ–¥–∞, –æ–ª—ñ—è, –º–∞—Å–ª–æ). –ú–æ–∂–µ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ `[]`.

**Response (—Å–∫–æ—Ä–æ—á–µ–Ω–æ):**
```json
{
  "suggestedRecipes": [
    {
      "dishName": "–î–µ—Ä—É–Ω–∏",
      "description": "–¢—Ä–∞–¥–∏—Ü—ñ–π–Ω—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –∫–∞—Ä—Ç–æ–ø–ª—è–Ω—ñ –æ–ª–∞–¥–∫–∏",
      "ingredients": [
        { "name": "–∫–∞—Ä—Ç–æ–ø–ª—è", "quantity": 500, "unit": { "canonical": "g", "localized": "–≥—Ä–∞–º" } }
      ],
      "instructions": [
        { "step": 1, "text": "–û—á–∏—Å—Ç–∏—Ç–∏ —Ç–∞ –Ω–∞—Ç–µ—Ä—Ç–∏ –∫–∞—Ä—Ç–æ–ø–ª—é" },
        { "step": 2, "text": "–ó–º—ñ—à–∞—Ç–∏ –∑ —è–π—Ü—è–º–∏ —Ç–∞ –±–æ—Ä–æ—à–Ω–æ–º" },
        { "step": 3, "text": "–°–º–∞–∂–∏—Ç–∏ –Ω–∞ –æ–ª—ñ—ó –¥–æ –∑–æ–ª–æ—Ç–∏—Å—Ç–æ—ó —Å–∫–æ—Ä–∏–Ω–∫–∏" }
      ],
      "cookingTime": 30,
      "matchedIngredients": ["–∫–∞—Ä—Ç–æ–ø–ª—è", "—è–π—Ü—è", "—Ü–∏–±—É–ª—è", "–æ–ª—ñ—è"],
      "additionalIngredients": ["–±–æ—Ä–æ—à–Ω–æ", "—Å—ñ–ª—å"]
    }
  ]
}
```

**–¢–µ—Å—Ç:**
```bash
curl -X POST http://localhost:3000/recipes/suggest \
  -H "Content-Type: application/json" \
  -d '{"ingredients": ["–∫–∞—Ä—Ç–æ–ø–ª—è", "—è–π—Ü—è", "—Ü–∏–±—É–ª—è"], "language": "uk"}'
```

---

### POST `/recipes/parse` (–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π)

–ü–∞—Ä—Å–∏–Ω–≥ –≥–æ—Ç–æ–≤–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç—É —Ç–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤.

**Request:**
```json
{
  "recipeText": "–ë–æ—Ä—â\n\n–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏:\n- –±—É—Ä—è–∫ 2 —à—Ç\n- –∫–∞—Ä—Ç–æ–ø–ª—è 3 —à—Ç\n- –º–æ—Ä–∫–≤–∞ 1 —à—Ç\n- —Ü–∏–±—É–ª—è 1 —à—Ç\n- –∫–∞–ø—É—Å—Ç–∞ 300 –≥\n- –º'—è—Å–æ 500 –≥\n- —Ç–æ–º–∞—Ç–Ω–∞ –ø–∞—Å—Ç–∞ 2 —Å—Ç.–ª.\n- —Å—ñ–ª—å, –ø–µ—Ä–µ—Ü—å –∑–∞ —Å–º–∞–∫–æ–º"
}
```

**Response:**
```json
{
  "ingredients": [
    {
      "name": "–±—É—Ä—è–∫",
      "quantity": "2",
      "unit": "—à—Ç—É–∫"
    },
    {
      "name": "–∫–∞—Ä—Ç–æ–ø–ª—è",
      "quantity": "3",
      "unit": "—à—Ç—É–∫"
    },
    {
      "name": "–º–æ—Ä–∫–≤–∞",
      "quantity": "1",
      "unit": "—à—Ç—É–∫"
    },
    {
      "name": "—Ü–∏–±—É–ª—è",
      "quantity": "1",
      "unit": "—à—Ç—É–∫"
    },
    {
      "name": "–∫–∞–ø—É—Å—Ç–∞",
      "quantity": "300",
      "unit": "–≥—Ä–∞–º"
    },
    {
      "name": "–º'—è—Å–æ",
      "quantity": "500",
      "unit": "–≥—Ä–∞–º"
    },
    {
      "name": "—Ç–æ–º–∞—Ç–Ω–∞ –ø–∞—Å—Ç–∞",
      "quantity": "2",
      "unit": "—Å—Ç.–ª."
    },
    {
      "name": "—Å—ñ–ª—å",
      "quantity": "–∑–∞ —Å–º–∞–∫–æ–º",
      "unit": "–∑–∞ —Å–º–∞–∫–æ–º"
    },
    {
      "name": "–ø–µ—Ä–µ—Ü—å",
      "quantity": "–∑–∞ —Å–º–∞–∫–æ–º",
      "unit": "–∑–∞ —Å–º–∞–∫–æ–º"
    }
  ]
}
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ curl

```bash
curl -X POST http://localhost:3000/recipes/parse \
  -H "Content-Type: application/json" \
  -d '{
    "recipeText": "–ë–æ—Ä—â\n\n–Ü–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏:\n- –±—É—Ä—è–∫ 2 —à—Ç\n- –∫–∞—Ä—Ç–æ–ø–ª—è 3 —à—Ç\n- –º–æ—Ä–∫–≤–∞ 1 —à—Ç\n- —Ü–∏–±—É–ª—è 1 —à—Ç\n- –∫–∞–ø—É—Å—Ç–∞ 300 –≥\n- –º'\''—è—Å–æ 500 –≥\n- —Ç–æ–º–∞—Ç–Ω–∞ –ø–∞—Å—Ç–∞ 2 —Å—Ç.–ª.\n- —Å—ñ–ª—å, –ø–µ—Ä–µ—Ü—å –∑–∞ —Å–º–∞–∫–æ–º"
  }'
```

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ ai/                     # AI –º–æ–¥—É–ª—å (OpenAI)
‚îÇ   ‚îú‚îÄ‚îÄ ai.module.ts
‚îÇ   ‚îî‚îÄ‚îÄ ai.service.ts
‚îú‚îÄ‚îÄ recipes/                # –ú–æ–¥—É–ª—å —Ä–µ—Ü–µ–ø—Ç—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ingredient.dto.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parse-recipe.dto.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate-recipe.dto.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ meal-plan.dto.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ suggest-recipe.dto.ts
‚îÇ   ‚îú‚îÄ‚îÄ recipes.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ recipes.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ recipes.module.ts
‚îú‚îÄ‚îÄ shopping-list/          # Shopping List CRUD
‚îú‚îÄ‚îÄ common/                 # Validators
‚îú‚îÄ‚îÄ app.module.ts           # –ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å
‚îî‚îÄ‚îÄ main.ts                 # Entry point
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Backend:** NestJS
- **AI:** OpenAI GPT-3.5 Turbo
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è:** class-validator, class-transformer
- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** PostgreSQL (–ø–ª–∞–Ω—É—î—Ç—å—Å—è)
- **–ü–∞—Ä—Å–∏–Ω–≥:** Cheerio, Playwright (–¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É)

## üí∞ –í–∞—Ä—Ç—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

OpenAI GPT-3.5 Turbo:
- ~$0.0005 (input) + $0.0015 (output) –∑–∞ 1K tokens
- –°–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ—Ü–µ–ø—Ç: ~$0.002-0.003 –∑–∞ –∑–∞–ø–∏—Ç

## üìù Roadmap

- [x] –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ä–µ—Ü–µ–ø—Ç—ñ–≤
- [x] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ –≤—ñ–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç—É
- [x] –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤ (–∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏)
- [x] Strict mode –¥–ª—è —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç—ñ–≤
- [x] Shopping List CRUD API
- [x] Swagger/OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –∑ URL
- [ ] –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ—Ü–µ–ø—Ç—ñ–≤ –≤ –ë–î (PostgreSQL)
- [ ] –ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- [ ] –£–ø–æ–¥–æ–±–∞–Ω–Ω—è —Ç–∞ –¥—ñ—î—Ç–∏—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è
- [ ] –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –º–µ–Ω—é –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å
- [ ] Frontend (React/Vue)
- [ ] –ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

UNLICENSED
